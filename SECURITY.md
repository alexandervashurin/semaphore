# Политика безопасности

## Поддерживаемые версии

| Версия | Поддерживается |
|--------|----------------|
| 0.0.x  | ✅              |

## Сообщение об уязвимостях

Мы серьёзно относимся к безопасности Semaphore UI. Если вы обнаружили уязвимость, пожалуйста, следуйте этим рекомендациям.

### Как сообщить

**Не создавайте публичные issues** для сообщений об уязвимостях безопасности.

Вместо этого:

1. **Email**: Отправьте письмо на security@semaphoreui.com
2. **GitHub**: Используйте [Private Vulnerability Reporting](https://github.com/semaphoreui/semaphore/security/advisories/new)

### Что включать

- Описание уязвимости
- Шаги для воспроизведения
- Влияние на безопасность
- Возможные пути эксплуатации
- Предложения по исправлению (если есть)

### Время ответа

- **Первичный ответ**: в течение 48 часов
- **План исправления**: в течение 7 дней
- **Исправление**: в зависимости от сложности

## Процесс исправления

1. Получение сообщения
2. Подтверждение уязвимости
3. Разработка исправления
4. Тестирование
5. Публикация патча
6. Публичное раскрытие (после 30 дней)

## Лучшие практики безопасности

### Для пользователей

- Регулярно обновляйте Semaphore до последней версии
- Используйте сложные пароли для пользователей
- Включите двухфакторную аутентификацию (2FA)
- Ограничьте доступ к API с помощью брандмауэра
- Используйте HTTPS для продакшена
- Регулярно создавайте резервные копии БД

### Для разработчиков

- Проверяйте зависимости на уязвимости (`cargo audit`)
- Используйте `cargo clippy` для выявления проблем
- Избегайте `unsafe` кода без необходимости
- Валидируйте все входные данные
- Логируйте ошибки безопасности (без чувствительных данных)
- Используйте prepared statements для SQL-запросов

## Зависимости

Мы используем следующие инструменты для проверки зависимостей:

- **cargo audit** — проверка уязвимостей в Rust-зависимостях
- **osv-scanner** — проверка уязвимостей по базе данных OSV
- **cargo outdated** — проверка устаревших зависимостей
- **cargo deny** — проверка лицензий и политик
- **npm audit** — проверка уязвимостей в JavaScript-зависимостях

### Регулярные проверки

```bash
# Проверка уязвимостей Rust
cd rust
cargo audit
osv-scanner --lockfile Cargo.lock

# Проверка уязвимостей NPM
cd web
npm audit
osv-scanner --lockfile package-lock.json

# Обновление зависимостей
cargo update
```

## История уязвимостей

| Дата | Уязвимость | Серьёзность | Пакет | Статус | CVE |
|------|------------|-------------|-------|--------|-----|
| 2026-02-28 | RUSTSEC-2023-0071 (Marvin Attack) | 5.9 (Medium) | `rsa 0.9.10` | ⚠️ Мониторинг | CVE-2023-44499 |
| 2026-02-28 | RUSTSEC-2025-0057 | - | `fxhash 0.2.1` | ⚠️ План миграции | - |
| 2026-02-28 | RUSTSEC-2024-0384 | - | `instant 0.1.13` | ⚠️ План миграции | - |

### Детали уязвимостей

#### RUSTSEC-2023-0071 (Marvin Attack)

**Дата обнаружения**: 2026-02-28  
**Пакет**: `rsa 0.9.10`  
**Серьёзность**: 5.9 (Medium)  
**Статус**: ⚠️ **Нет доступного исправления**

**Описание**: Атака Marvin - атака по времени на RSA decryption, которая потенциально позволяет восстановить приватный ключ через анализ времени выполнения операций.

**Влияние на проект**: **Низкое**
- RSA используется только для генерации ключей
- Не используется для расшифровки в реальном времени
- Ключи генерируются один раз и хранятся в защищённом хранилище

**Митигация**:
1. Не использовать RSA decryption в критичных по времени операциях
2. Использовать RSA только для шифрования, не для расшифровки
3. Мониторить обновления `rsa` crate
4. Рассмотреть альтернативы: `age`, `libsodium`

**Дополнительно**: [SECURITY_AUDIT_2026_02_28.md](SECURITY_AUDIT_2026_02_28.md)

## Контакты

- **Email**: security@semaphoreui.com
- **PGP Key**: [ссылка на PGP ключ]

## Благодарности

Спасибо исследователям безопасности, которые помогают сделать Semaphore безопаснее.

---

**Последнее обновление**: 2026-02-28
